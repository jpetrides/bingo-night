<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PTO Family Bingo Night - St Anthony's School</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #1A1A1A;
            background: #3E4A5C;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }

        .header {
            background: #D4C5A0;
            color: #2C3544;
            text-align: center;
            padding: 30px 20px;
            position: relative;
        }

        .lang-toggle {
            position: absolute;
            top: 20px;
            right: 20px;
            background: #E31E24;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            font-size: 0.95em;
            font-weight: bold;
            cursor: pointer;
            transition: background 0.3s ease, transform 0.3s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .lang-toggle:hover {
            background: #C41A1F;
            transform: translateY(-2px);
        }

        .logo {
            max-width: 400px;
            width: 100%;
            height: auto;
            margin: 0 auto 20px;
            display: block;
            border-radius: 10px;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .event-date {
            font-size: 1.3em;
            background: #3E4A5C;
            color: #FFFFFF;
            padding: 10px 20px;
            border-radius: 25px;
            display: inline-block;
            margin-top: 10px;
        }

        .content {
            padding: 40px;
        }

        .section {
            margin-bottom: 40px;
        }

        .section h2 {
            color: #3E4A5C;
            font-size: 1.8em;
            margin-bottom: 15px;
            border-bottom: 3px solid #D4C5A0;
            padding-bottom: 10px;
        }

        .steps {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .steps ol {
            margin-left: 20px;
        }

        .steps li {
            font-size: 1.1em;
            margin-bottom: 10px;
            color: #555;
        }

        .highlight-box {
            background: #E5D9BA;
            border-left: 5px solid #D4C5A0;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }

        .highlight-box strong {
            color: #2C3544;
        }

        .package-box {
            background: #3E4A5C;
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin: 25px 0;
        }

        .package-box h3 {
            font-size: 1.5em;
            margin-bottom: 15px;
        }

        .package-box ul {
            list-style: none;
            margin-left: 0;
        }

        .package-box li {
            padding: 8px 0;
            font-size: 1.1em;
        }

        .package-box li:before {
            content: "‚úì ";
            font-weight: bold;
            margin-right: 10px;
        }

        .pricing-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 10px;
            overflow: hidden;
        }

        .pricing-table th,
        .pricing-table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        .pricing-table th {
            background: #3E4A5C;
            color: white;
            font-size: 1.1em;
        }

        .pricing-table td:last-child {
            font-weight: bold;
            color: #E31E24;
            font-size: 1.2em;
        }

        .order-form {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            font-weight: bold;
            margin-bottom: 8px;
            color: #3E4A5C;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #D4C5A0;
            border-radius: 8px;
            font-size: 1em;
            font-family: inherit;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #3E4A5C;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .form-submit-btn {
            background: #E31E24;
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 10px;
            font-size: 1.2em;
            font-weight: bold;
            cursor: pointer;
            transition: background 0.3s ease, transform 0.3s ease;
            display: block;
            width: 100%;
            margin-top: 10px;
        }

        .form-submit-btn:hover {
            background: #C41A1F;
            transform: translateY(-2px);
        }

        .form-submit-btn:disabled {
            background: #999;
            cursor: not-allowed;
            transform: none;
        }

        .form-note {
            font-size: 0.9em;
            color: #666;
            margin-top: 5px;
        }

        .order-total {
            background: #3E4A5C;
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            margin: 20px 0;
            font-size: 1.2em;
            text-align: center;
        }

        .form-success {
            display: none;
            background: #28a745;
            color: white;
            padding: 25px;
            border-radius: 10px;
            text-align: center;
            font-size: 1.1em;
        }

        .form-success h3 {
            margin-bottom: 10px;
        }

        @media (max-width: 768px) {
            .form-row {
                grid-template-columns: 1fr;
            }
        }

        .important-note {
            background: #E5D9BA;
            border-left: 5px solid #E31E24;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
            color: #2C3544;
        }

        .contact-info {
            background: #E5D9BA;
            padding: 25px;
            border-radius: 10px;
            margin: 25px 0;
        }

        .contact-info p {
            margin: 8px 0;
        }

        .contact-info a {
            color: #3E4A5C;
            text-decoration: none;
            font-weight: bold;
        }

        .contact-info a:hover {
            text-decoration: underline;
        }

        .copy-btn {
            background: #E31E24;
            color: white;
            border: none;
            padding: 5px 12px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.85em;
            margin-left: 10px;
            transition: background 0.3s ease;
        }

        .copy-btn:hover {
            background: #C41A1F;
        }

        .copy-btn:active {
            background: #A01519;
        }

        .copy-btn.copied {
            background: #28a745;
        }

        .contact-line {
            display: flex;
            align-items: center;
            margin: 8px 0;
            flex-wrap: wrap;
        }

        .calendar-buttons {
            display: flex;
            gap: 15px;
            margin: 25px 0;
            flex-wrap: wrap;
            justify-content: center;
        }

        .calendar-btn {
            background: #E31E24;
            color: white;
            text-decoration: none;
            padding: 12px 25px;
            border-radius: 8px;
            font-size: 1em;
            font-weight: bold;
            transition: transform 0.3s ease, box-shadow 0.3s ease, background 0.3s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .calendar-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
            background: #C41A1F;
        }

        .pre-order-btn {
            background: #E31E24;
            color: white;
            text-decoration: none;
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 1.2em;
            font-weight: bold;
            transition: transform 0.3s ease, box-shadow 0.3s ease, background 0.3s ease;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
            display: block;
            margin: 20px auto;
            cursor: pointer;
            border: none;
            width: fit-content;
        }

        .pre-order-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
            background: #C41A1F;
        }

        .pto-presents {
            font-size: 0.5em;
            font-weight: normal;
            display: block;
            margin-bottom: 5px;
        }

        .footer {
            background: #3E4A5C;
            color: white;
            text-align: center;
            padding: 20px;
            font-size: 0.95em;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.5em;
            }

            .pto-presents {
                font-size: 0.55em;
            }

            .content {
                padding: 25px;
            }

            .payment-methods {
                grid-template-columns: 1fr;
            }

            .lang-toggle {
                position: static;
                margin-bottom: 15px;
                display: inline-block;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <button class="lang-toggle" onclick="toggleLanguage()" id="langToggle">Espa√±ol</button>
            <img src="Logo.png" alt="St Anthony's School PTO Bingo Night" class="logo">
            <h1><span class="pto-presents" data-i18n="pto-presents">St Anthony of Padua PTO Presents:</span><span data-i18n="title">Family Bingo Night</span></h1>
            <div class="event-date" data-i18n="event-date">Friday, February 6th | 6:00 PM - 8:00 PM</div>

            <button class="pre-order-btn" onclick="scrollToPreOrder()" data-i18n="pre-order-btn">üçï Click to Pre-Order Pizza üçï</button>

            <div class="calendar-buttons">
                <a href="https://calendar.google.com/calendar/render?action=TEMPLATE&text=St+Anthony%27s+PTO+Bingo+Night&dates=20260206T230000Z/20260207T010000Z&details=Join+us+for+a+fun+evening+of+Bingo%21+Pizza%2C+snacks%2C+prizes%2C+and+fun+with+friends.+Pre-order+your+package+to+ensure+we+have+enough+pizza.+Contact+Joe+Petrides+at+joe.petrides%40gmail.com+or+703.254.6206+for+questions.&location=St+Anthony%27s+School+Cafeteria" target="_blank" class="calendar-btn">
                    <span data-i18n="cal-google">üìÖ Add to Google Calendar</span>
                </a>
                <a href="#" onclick="downloadICS(); return false;" class="calendar-btn">
                    <span data-i18n="cal-apple">üìÖ Add to Apple Calendar</span>
                </a>
            </div>
        </div>

        <div class="content">
            <div class="section">
                <h2 data-i18n="section-join">Join Us for a Fun Evening!</h2>
                <p data-i18n="intro-text">The PTO is thrilled to host Bingo Night on Friday February 6th from 6pm - 8pm. Goodness, is that tomorrow? YES IT IS!! We are going to have a wonderful evening of fun.</p>
            </div>

            <div class="section">
                <h2 data-i18n="section-volunteers">Volunteers Needed</h2>
                <div class="highlight-box">
                    <p><strong data-i18n="volunteers-text">In order to make the evening a success we NEED volunteers</strong> <span data-i18n="volunteers-help">to help with food, setup, ticket sales and donations. You can register to volunteer at Track It Forward at this link:</span></p>
                    <p style="margin-top: 15px;"><a href="https://www.trackitforward.com/site/1119206/event/1187707" target="_blank" style="color: #2a5298; font-weight: bold; font-size: 1.1em;" data-i18n="volunteers-link">Register to Volunteer ‚Üí</a></p>
                </div>
            </div>

            <div class="section">
                <h2 data-i18n="section-food">Food Donations</h2>
                <p data-i18n="food-text">If you are interested in bringing in a hot food donation that is not on the list, let Joe Petrides know at <a href="mailto:joe.petrides@gmail.com">joe.petrides@gmail.com</a> or via text/WhatsApp - 703.254.6206. We'd love to see some new food items at bingo night. We will provide the tray to warm it in, but you will need to bring it already warm.</p>
            </div>

            <div class="section" id="pre-order">
                <h2 data-i18n="section-preorder">Pre-Order Package (Highly Encouraged!)</h2>
                <div class="important-note">
                    <strong data-i18n="encourage-preorder">We HIGHLY ENCOURAGE PREORDERS.</strong> <span data-i18n="encourage-reason">It helps us make sure we buy the right amount of pizza.</span>
                </div>

                <div class="package-box">
                    <h3 data-i18n="package-title">$30 Pre-Order Package Includes:</h3>
                    <ul>
                        <li data-i18n="package-item1">1 Large Pizza (Choose: Cheese, Pepperoni or Veggie)</li>
                        <li data-i18n="package-item2">10 Bingo Cards</li>
                        <li data-i18n="package-item3">4 Drinks</li>
                        <li data-i18n="package-item4">4 Desserts/Chips</li>
                    </ul>
                    <p style="margin-top: 15px; font-size: 1.1em;" data-i18n="extra-pizza-note">Additional Pizzas can be pre-ordered for $15 each.</p>
                </div>

                <table class="pricing-table">
                    <thead>
                        <tr>
                            <th data-i18n="pricing-header-package">Package</th>
                            <th data-i18n="pricing-header-price">Price</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td data-i18n="pricing-row1">1 Pre-order package</td>
                            <td>$30</td>
                        </tr>
                        <tr>
                            <td data-i18n="pricing-row2">1 Pre-order package + 1 extra pizza</td>
                            <td>$45</td>
                        </tr>
                        <tr>
                            <td data-i18n="pricing-row3">1 Pre-order package + 2 extra pizzas</td>
                            <td>$60</td>
                        </tr>
                    </tbody>
                </table>

                <div class="important-note">
                    <strong data-i18n="deadline">Pre-Orders must be received by 4pm on Friday (February 6th).</strong>
                </div>
            </div>

            <div class="section">
                <h2 data-i18n="section-form">Pre-Order Form</h2>
                <div class="order-form" id="order-form-container">
                    <form id="preorder-form" onsubmit="submitOrder(event)">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="familyName" data-i18n="form-family">Family Name *</label>
                                <input type="text" id="familyName" name="familyName" required data-i18n-placeholder="form-family-placeholder">
                            </div>
                            <div class="form-group">
                                <label for="email" data-i18n="form-email">Email *</label>
                                <input type="email" id="email" name="email" required data-i18n-placeholder="form-email-placeholder">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="phone" data-i18n="form-phone">Phone Number</label>
                            <input type="tel" id="phone" name="phone" data-i18n-placeholder="form-phone-placeholder">
                        </div>

                        <div class="form-group">
                            <label for="pizzaType" data-i18n="form-pizza-type">Pizza Type for Package *</label>
                            <select id="pizzaType" name="pizzaType" required>
                                <option value="" data-i18n="form-select-pizza">-- Select Pizza Type --</option>
                                <option value="Cheese" data-i18n="pizza-cheese">Cheese</option>
                                <option value="Pepperoni" data-i18n="pizza-pepperoni">Pepperoni</option>
                                <option value="Veggie" data-i18n="pizza-veggie">Veggie</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="extraPizzas" data-i18n="form-extra-pizzas">Extra Pizzas ($15 each)</label>
                            <select id="extraPizzas" name="extraPizzas" onchange="updateTotal()">
                                <option value="0" data-i18n="extra-0">No extra pizzas</option>
                                <option value="1" data-i18n="extra-1">1 extra pizza (+$15)</option>
                                <option value="2" data-i18n="extra-2">2 extra pizzas (+$30)</option>
                                <option value="3" data-i18n="extra-3">3 extra pizzas (+$45)</option>
                            </select>
                        </div>

                        <div id="extraPizzaTypes" style="display: none;">
                        </div>

                        <div class="order-total">
                            <span data-i18n="order-total-label">Order Total:</span> <strong id="orderTotal">$30.00</strong>
                        </div>

                        <div class="form-group">
                            <label for="notes" data-i18n="form-notes">Special Requests / Notes</label>
                            <textarea id="notes" name="notes" rows="3" data-i18n-placeholder="form-notes-placeholder"></textarea>
                        </div>

                        <div class="important-note" style="margin-bottom: 20px;">
                            <strong data-i18n="payment-note">Payment will be collected at the door on Bingo Night.</strong> <span data-i18n="payment-note2">This form reserves your pre-order so we buy the right amount of pizza.</span>
                        </div>

                        <button type="submit" class="form-submit-btn" id="submitBtn" data-i18n="form-submit">Submit Pre-Order</button>
                    </form>

                    <div class="form-success" id="formSuccess">
                        <h3 data-i18n="success-title">Pre-Order Submitted!</h3>
                        <p data-i18n="success-text">Thank you! Your pre-order has been received. Payment will be collected at the door on Bingo Night.</p>
                        <p style="margin-top: 10px;" data-i18n="success-contact">If you have questions, contact Joe Petrides at <a href="mailto:joe.petrides@gmail.com" style="color: white; text-decoration: underline;">joe.petrides@gmail.com</a></p>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2 data-i18n="section-questions">Questions?</h2>
                <div class="contact-info">
                    <p><strong data-i18n="contact-organizer">Event Organizer: Joe Petrides</strong></p>
                    <div class="contact-line">
                        <span><span data-i18n="contact-email-label">Email:</span> <a href="mailto:joe.petrides@gmail.com">joe.petrides@gmail.com</a></span>
                        <button class="copy-btn" onclick="copyToClipboard('joe.petrides@gmail.com', this)" data-i18n="copy-email">Copy Email</button>
                    </div>
                    <div class="contact-line">
                        <span><span data-i18n="contact-text-label">Text/iMessage:</span> <a href="sms:+17032546206">703.254.6206</a></span>
                        <button class="copy-btn" onclick="copyToClipboard('7032546206', this)" data-i18n="copy-phone">Copy Phone</button>
                    </div>
                    <div class="contact-line">
                        <span>WhatsApp: <a href="https://wa.me/17032546206" target="_blank">703.254.6206</a></span>
                    </div>
                    <p style="margin-top: 15px;" data-i18n="contact-footer">If you have ANY questions please contact the PTO or Joe Petrides.</p>
                </div>
            </div>
        </div>

        <div class="footer">
            <p data-i18n="footer">St Anthony's School PTO | We'll see you there! üéâ</p>
        </div>
    </div>

    <script>
        // IMPORTANT: Replace this URL with your deployed Google Apps Script URL
        const GOOGLE_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbyGbZC_SgJ3TKrrcvg6sKFIsqa1xPkL-tL53kGrIRl5sojB8RAoAR1OFK8gKZTP3LLhrg/exec';

        // Translations
        const translations = {
            en: {
                'pto-presents': 'St Anthony of Padua PTO Presents:',
                'title': 'Family Bingo Night',
                'event-date': 'Friday, February 6th | 6:00 PM - 8:00 PM',
                'pre-order-btn': 'üçï Click to Pre-Order Pizza üçï',
                'cal-google': 'üìÖ Add to Google Calendar',
                'cal-apple': 'üìÖ Add to Apple Calendar',
                'section-join': 'Join Us for a Fun Evening!',
                'intro-text': 'The PTO is thrilled to host Bingo Night on Friday February 6th from 6pm - 8pm. Goodness, is that tomorrow? YES IT IS!! We are going to have a wonderful evening of fun.',
                'section-volunteers': 'Volunteers Needed',
                'volunteers-text': 'In order to make the evening a success we NEED volunteers',
                'volunteers-help': 'to help with food, setup, ticket sales and donations. You can register to volunteer at Track It Forward at this link:',
                'volunteers-link': 'Register to Volunteer ‚Üí',
                'section-food': 'Food Donations',
                'food-text': 'If you are interested in bringing in a hot food donation that is not on the list, let Joe Petrides know at <a href="mailto:joe.petrides@gmail.com">joe.petrides@gmail.com</a> or via text/WhatsApp - 703.254.6206. We\'d love to see some new food items at bingo night. We will provide the tray to warm it in, but you will need to bring it already warm.',
                'section-preorder': 'Pre-Order Package (Highly Encouraged!)',
                'encourage-preorder': 'We HIGHLY ENCOURAGE PREORDERS.',
                'encourage-reason': 'It helps us make sure we buy the right amount of pizza.',
                'package-title': '$30 Pre-Order Package Includes:',
                'package-item1': '1 Large Pizza (Choose: Cheese, Pepperoni or Veggie)',
                'package-item2': '10 Bingo Cards',
                'package-item3': '4 Drinks',
                'package-item4': '4 Desserts/Chips',
                'extra-pizza-note': 'Additional Pizzas can be pre-ordered for $15 each.',
                'pricing-header-package': 'Package',
                'pricing-header-price': 'Price',
                'pricing-row1': '1 Pre-order package',
                'pricing-row2': '1 Pre-order package + 1 extra pizza',
                'pricing-row3': '1 Pre-order package + 2 extra pizzas',
                'deadline': 'Pre-Orders must be received by 4pm on Friday (February 6th).',
                'section-form': 'Pre-Order Form',
                'form-family': 'Family Name *',
                'form-family-placeholder': 'e.g. Petrides',
                'form-email': 'Email *',
                'form-email-placeholder': 'e.g. joe@gmail.com',
                'form-phone': 'Phone Number',
                'form-phone-placeholder': 'e.g. 703-254-6206',
                'form-pizza-type': 'Pizza Type for Package *',
                'form-select-pizza': '-- Select Pizza Type --',
                'pizza-cheese': 'Cheese',
                'pizza-pepperoni': 'Pepperoni',
                'pizza-veggie': 'Veggie',
                'form-extra-pizzas': 'Extra Pizzas ($15 each)',
                'extra-0': 'No extra pizzas',
                'extra-1': '1 extra pizza (+$15)',
                'extra-2': '2 extra pizzas (+$30)',
                'extra-3': '3 extra pizzas (+$45)',
                'extra-pizza-type': 'Extra Pizza',
                'order-total-label': 'Order Total:',
                'form-notes': 'Special Requests / Notes',
                'form-notes-placeholder': 'Any dietary restrictions, allergies, or special requests...',
                'payment-note': 'Payment will be collected at the door on Bingo Night.',
                'payment-note2': 'This form reserves your pre-order so we buy the right amount of pizza.',
                'form-submit': 'Submit Pre-Order',
                'form-submitting': 'Submitting...',
                'success-title': 'Pre-Order Submitted!',
                'success-text': 'Thank you! Your pre-order has been received. Payment will be collected at the door on Bingo Night.',
                'success-contact': 'If you have questions, contact Joe Petrides at <a href="mailto:joe.petrides@gmail.com" style="color: white; text-decoration: underline;">joe.petrides@gmail.com</a>',
                'section-questions': 'Questions?',
                'contact-organizer': 'Event Organizer: Joe Petrides',
                'contact-email-label': 'Email:',
                'contact-text-label': 'Text/iMessage:',
                'copy-email': 'Copy Email',
                'copy-phone': 'Copy Phone',
                'copied': 'Copied!',
                'contact-footer': 'If you have ANY questions please contact the PTO or Joe Petrides.',
                'footer': 'St Anthony\'s School PTO | We\'ll see you there! üéâ'
            },
            es: {
                'pto-presents': 'PTO de St Anthony of Padua Presenta:',
                'title': 'Noche de Bingo Familiar',
                'event-date': 'Viernes, 6 de Febrero | 6:00 PM - 8:00 PM',
                'pre-order-btn': 'üçï Haz clic para Pre-Ordenar Pizza üçï',
                'cal-google': 'üìÖ Agregar a Google Calendar',
                'cal-apple': 'üìÖ Agregar a Apple Calendar',
                'section-join': '¬°√önete a Nosotros para una Noche Divertida!',
                'intro-text': 'El PTO est√° encantado de organizar la Noche de Bingo el viernes 6 de febrero a las 6:00 p.m. hasta las 8:00 p.m. ¬øPUES, ESO ES MA√ëANA? ¬°CLARO QUE S√ç! Vamos a tener una velada maravillosa y divertida.',
                'section-volunteers': 'Se Necesitan Voluntarios',
                'volunteers-text': 'Para que la noche sea un √©xito NECESITAMOS voluntarios',
                'volunteers-help': 'para ayudar con comida, preparaci√≥n, venta de boletos y donaciones. Puedes registrarte para ser voluntario en Track It Forward en este enlace:',
                'volunteers-link': 'Reg√≠strate para Ser Voluntario ‚Üí',
                'section-food': 'Donaciones de Comida',
                'food-text': 'Si est√°s interesado en traer una donaci√≥n de comida caliente que no est√© en la lista, hazle saber a Joe Petrides en <a href="mailto:joe.petrides@gmail.com">joe.petrides@gmail.com</a> o por texto/WhatsApp - 703.254.6206. Nos encantar√≠a ver algunos art√≠culos de comida nuevos en la noche de bingo. Nosotros proporcionaremos la bandeja para calentarla, pero necesitar√°s traerla ya caliente.',
                'section-preorder': 'Paquete de Pre-Orden (¬°Muy Recomendado!)',
                'encourage-preorder': 'RECOMENDAMOS ENCARECIDAMENTE LAS PRE-√ìRDENES.',
                'encourage-reason': 'Nos ayuda a asegurarnos de comprar la cantidad correcta de pizza.',
                'package-title': 'Paquete de Pre-Orden de $30 Incluye:',
                'package-item1': '1 Pizza Grande (Elige: Queso, Pepperoni o Vegetariana)',
                'package-item2': '10 Tarjetas de Bingo',
                'package-item3': '4 Bebidas',
                'package-item4': '4 Postres/Bocadillos',
                'extra-pizza-note': 'Pizzas adicionales se pueden pre-ordenar por $15 cada una.',
                'pricing-header-package': 'Paquete',
                'pricing-header-price': 'Precio',
                'pricing-row1': '1 paquete de pre-orden',
                'pricing-row2': '1 paquete de pre-orden + 1 pizza adicional',
                'pricing-row3': '1 paquete de pre-orden + 2 pizzas adicionales',
                'deadline': 'Las pre-√≥rdenes deben recibirse antes de las 4pm del viernes (6 de febrero).',
                'section-form': 'Formulario de Pre-Orden',
                'form-family': 'Apellido de la Familia *',
                'form-family-placeholder': 'ej. Petrides',
                'form-email': 'Correo Electr√≥nico *',
                'form-email-placeholder': 'ej. joe@gmail.com',
                'form-phone': 'N√∫mero de Tel√©fono',
                'form-phone-placeholder': 'ej. 703-254-6206',
                'form-pizza-type': 'Tipo de Pizza para el Paquete *',
                'form-select-pizza': '-- Selecciona el Tipo de Pizza --',
                'pizza-cheese': 'Queso',
                'pizza-pepperoni': 'Pepperoni',
                'pizza-veggie': 'Vegetariana',
                'form-extra-pizzas': 'Pizzas Adicionales ($15 cada una)',
                'extra-0': 'Sin pizzas adicionales',
                'extra-1': '1 pizza adicional (+$15)',
                'extra-2': '2 pizzas adicionales (+$30)',
                'extra-3': '3 pizzas adicionales (+$45)',
                'extra-pizza-type': 'Pizza Adicional',
                'order-total-label': 'Total del Pedido:',
                'form-notes': 'Peticiones Especiales / Notas',
                'form-notes-placeholder': 'Cualquier restricci√≥n diet√©tica, alergias o peticiones especiales...',
                'payment-note': 'El pago se recoger√° en la puerta la Noche de Bingo.',
                'payment-note2': 'Este formulario reserva tu pre-orden para que compremos la cantidad correcta de pizza.',
                'form-submit': 'Enviar Pre-Orden',
                'form-submitting': 'Enviando...',
                'success-title': '¬°Pre-Orden Enviada!',
                'success-text': '¬°Gracias! Tu pre-orden ha sido recibida. El pago se recoger√° en la puerta la Noche de Bingo.',
                'success-contact': 'Si tienes preguntas, contacta a Joe Petrides en <a href="mailto:joe.petrides@gmail.com" style="color: white; text-decoration: underline;">joe.petrides@gmail.com</a>',
                'section-questions': '¬øPreguntas?',
                'contact-organizer': 'Organizador del Evento: Joe Petrides',
                'contact-email-label': 'Correo Electr√≥nico:',
                'contact-text-label': 'Texto/iMessage:',
                'copy-email': 'Copiar Correo',
                'copy-phone': 'Copiar Tel√©fono',
                'copied': '¬°Copiado!',
                'contact-footer': 'Si tienes CUALQUIER pregunta por favor contacta al PTO o a Joe Petrides.',
                'footer': 'PTO de la Escuela St Anthony | ¬°Nos vemos all√≠! üéâ'
            }
        };

        let currentLang = localStorage.getItem('language') || 'en';

        function setLanguage(lang) {
            currentLang = lang;
            localStorage.setItem('language', lang);

            // Update all elements with data-i18n attribute
            document.querySelectorAll('[data-i18n]').forEach(elem => {
                const key = elem.getAttribute('data-i18n');
                if (translations[lang][key]) {
                    elem.innerHTML = translations[lang][key];
                }
            });

            // Update placeholders
            document.querySelectorAll('[data-i18n-placeholder]').forEach(elem => {
                const key = elem.getAttribute('data-i18n-placeholder');
                if (translations[lang][key]) {
                    elem.placeholder = translations[lang][key];
                }
            });

            // Update language toggle button
            document.getElementById('langToggle').textContent = lang === 'en' ? 'Espa√±ol' : 'English';

            // Update submit button if it's in submitting state
            const submitBtn = document.getElementById('submitBtn');
            if (submitBtn.disabled) {
                submitBtn.textContent = translations[lang]['form-submitting'];
            }

            // Update document language
            document.documentElement.lang = lang;
        }

        function toggleLanguage() {
            setLanguage(currentLang === 'en' ? 'es' : 'en');
        }

        // Initialize language on page load
        document.addEventListener('DOMContentLoaded', function() {
            setLanguage(currentLang);
        });

        function scrollToPreOrder() {
            document.getElementById('pre-order').scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });
        }

        function updateTotal() {
            const extraPizzas = parseInt(document.getElementById('extraPizzas').value);
            const total = 30 + (extraPizzas * 15);
            document.getElementById('orderTotal').textContent = '$' + total.toFixed(2);

            const container = document.getElementById('extraPizzaTypes');
            container.innerHTML = '';
            if (extraPizzas > 0) {
                container.style.display = 'block';
                for (let i = 1; i <= extraPizzas; i++) {
                    const div = document.createElement('div');
                    div.className = 'form-group';
                    const extraPizzaLabel = translations[currentLang]['extra-pizza-type'] || 'Extra Pizza';
                    div.innerHTML = '<label for="extraPizzaType' + i + '">' + extraPizzaLabel + ' ' + i + ' ' + (currentLang === 'es' ? 'Tipo *' : 'Type *') + '</label>' +
                        '<select id="extraPizzaType' + i + '" name="extraPizzaType' + i + '" required>' +
                        '<option value="">' + translations[currentLang]['form-select-pizza'] + '</option>' +
                        '<option value="Cheese">' + translations[currentLang]['pizza-cheese'] + '</option>' +
                        '<option value="Pepperoni">' + translations[currentLang]['pizza-pepperoni'] + '</option>' +
                        '<option value="Veggie">' + translations[currentLang]['pizza-veggie'] + '</option>' +
                        '</select>';
                    container.appendChild(div);
                }
            } else {
                container.style.display = 'none';
            }
        }

        function submitOrder(event) {
            event.preventDefault();

            const btn = document.getElementById('submitBtn');
            btn.disabled = true;
            btn.textContent = translations[currentLang]['form-submitting'];

            const extraPizzas = parseInt(document.getElementById('extraPizzas').value);
            const extraTypes = [];
            for (let i = 1; i <= extraPizzas; i++) {
                extraTypes.push(document.getElementById('extraPizzaType' + i).value);
            }

            const data = {
                familyName: document.getElementById('familyName').value,
                email: document.getElementById('email').value,
                phone: document.getElementById('phone').value,
                student: '',
                pizzaType: document.getElementById('pizzaType').value,
                extraPizzas: extraPizzas,
                extraPizzaTypes: extraTypes.join(', '),
                total: 30 + (extraPizzas * 15),
                notes: document.getElementById('notes').value
            };

            fetch(GOOGLE_SCRIPT_URL, {
                method: 'POST',
                mode: 'no-cors',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(data)
            }).then(function() {
                document.getElementById('preorder-form').style.display = 'none';
                document.getElementById('formSuccess').style.display = 'block';
            }).catch(function(error) {
                alert('There was an error submitting your order. Please try again or contact Joe Petrides directly.');
                btn.disabled = false;
                btn.textContent = translations[currentLang]['form-submit'];
            });
        }

        function copyToClipboard(text, button) {
            navigator.clipboard.writeText(text).then(function() {
                const originalText = button.textContent;
                button.textContent = translations[currentLang]['copied'];
                button.classList.add('copied');

                setTimeout(function() {
                    button.textContent = originalText;
                    button.classList.remove('copied');
                }, 2000);
            }).catch(function(err) {
                alert('Failed to copy: ' + err);
            });
        }

        function downloadICS() {
            const icsContent = `BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//St Anthony's School//PTO Bingo Night//EN
BEGIN:VEVENT
UID:bingo-night-2026@stanthonys.com
DTSTAMP:20260120T000000Z
DTSTART:20260206T230000Z
DTEND:20260207T010000Z
SUMMARY:St Anthony's PTO Bingo Night
DESCRIPTION:Join us for a fun evening of Bingo! Pizza, snacks, prizes, and fun with friends. Pre-order your package to ensure we have enough pizza. Contact Joe Petrides at joe.petrides@gmail.com or 703.254.6206 for questions.
LOCATION:St Anthony's School Cafeteria
STATUS:CONFIRMED
SEQUENCE:0
BEGIN:VALARM
TRIGGER:-PT24H
ACTION:DISPLAY
DESCRIPTION:Reminder: Bingo Night tomorrow!
END:VALARM
END:VEVENT
END:VCALENDAR`;

            const blob = new Blob([icsContent], { type: 'text/calendar;charset=utf-8' });
            const link = document.createElement('a');
            link.href = window.URL.createObjectURL(blob);
            link.download = 'bingo-night.ics';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }
    </script>
</body>
</html>
